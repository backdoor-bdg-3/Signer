{% extends "base.html" %}

{% block title %}Backdoor Web Signer - Sign iOS Apps{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h2>Sign Your iOS Apps</h2>
        <p>Fast, secure, and reliable iOS app signing service</p>
        <div class="hero-cta">
            <a href="{{ url_for('main.basic_signing') }}" class="btn btn-primary pulse-btn">
                <i class="fas fa-signature"></i> Start Signing
            </a>
            <a href="{{ url_for('main.advanced') }}" class="btn btn-secondary">
                <i class="fas fa-cogs"></i> Advanced Options
            </a>
        </div>
    </div>
</section>

<section class="features">
    <h2>Why Choose Backdoor Web Signer?</h2>
    <div class="feature-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-bolt"></i>
            </div>
            <h3>Lightning Fast</h3>
            <p>Sign apps of any size quickly and efficiently</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h3>Secure</h3>
            <p>Your files are processed securely and deleted after signing</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-expand-arrows-alt"></i>
            </div>
            <h3>No Size Limits</h3>
            <p>Sign apps from 1MB to 10GB with no restrictions</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-cloud"></i>
            </div>
            <h3>Cloud-Based</h3>
            <p>No need to install anything on your device</p>
        </div>
    </div>
</section>

<section class="how-it-works">
    <h2>How It Works</h2>
    <div class="steps">
        <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
                <h3>Upload Files</h3>
                <p>Upload your IPA file, P12 certificate, and mobile provision profile</p>
            </div>
        </div>
        <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
                <h3>Enter Password</h3>
                <p>Provide your P12 certificate password</p>
            </div>
        </div>
        <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
                <h3>Sign App</h3>
                <p>Our system will sign your app using the provided credentials</p>
            </div>
        </div>
        <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
                <h3>Install</h3>
                <p>Install directly on your iOS device via OTA installation</p>
            </div>
        </div>
    </div>
    
    <div class="cta-container">
        <a href="{{ url_for('main.basic_signing') }}" class="btn btn-primary">
            <i class="fas fa-signature"></i> Sign Your App Now
        </a>
    </div>
</section>

<section class="features-detailed">
    <h2>Powerful Features</h2>
    <div class="features-detailed-grid">
        <div class="feature-detailed-card">
            <div class="feature-detailed-icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h3>OTA Installation</h3>
            <p>Install signed apps directly on your iOS device without a computer using our Over-The-Air installation system.</p>
        </div>
        <div class="feature-detailed-card">
            <div class="feature-detailed-icon">
                <i class="fas fa-paint-brush"></i>
            </div>
            <h3>App Customization</h3>
            <p>Customize your app's bundle ID, name, version, and even replace the app icon with your own design.</p>
        </div>
        <div class="feature-detailed-card">
            <div class="feature-detailed-icon">
                <i class="fas fa-key"></i>
            </div>
            <h3>Entitlements Control</h3>
            <p>View and modify app entitlements to enable additional features and capabilities in your signed apps.</p>
        </div>
        <div class="feature-detailed-card">
            <div class="feature-detailed-icon">
                <i class="fas fa-code"></i>
            </div>
            <h3>Advanced Options</h3>
            <p>Access advanced signing options including dylib injection, weak signatures, and custom entitlements for power users.</p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // File input display
        const fileInputs = {
            'ipa_file': 'ipa-file-name',
            'p12_file': 'p12-file-name',
            'provision_file': 'provision-file-name',
            'app_icon': 'app-icon-name'
        };
        
        for (const [inputId, displayId] of Object.entries(fileInputs)) {
            const input = document.getElementById(inputId);
            const display = document.getElementById(displayId);
            
            input.addEventListener('change', function() {
                if (this.files.length > 0) {
                    display.textContent = this.files[0].name;
                    display.classList.add('has-file');
                } else {
                    display.textContent = 'No file chosen';
                    display.classList.remove('has-file');
                }
            });
        }
        
        // Close flash messages
        const closeButtons = document.querySelectorAll('.flash-message .close-btn');
        closeButtons.forEach(button => {
            button.addEventListener('click', function() {
                this.parentElement.style.display = 'none';
            });
        });
    });
</script>
{% endblock %}